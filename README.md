# chat_room
关于聊天室的跨网段问题，本代码采用云服务器中转消息方法实现跨网段交流

# 核心思想

## 中转
客户端发消息给云服务器,云服务器将消息发送给连接上服务器的所有客户。当用户进入聊天室时，服务器会要求客户输入昵称,当昵称输入完毕后会向所有用户发送XXX进入聊天室。退出聊天室同样。

# 为什么写聊天室？
这并不是想写一个聊天软件。这是为了解决单片机跨网段通讯的问题。如果手机上运行一个客户端代码，在远端树莓派也运行一个客户端，手机端就可以给树莓派发送消息以便控制树莓派。

# 关于shumeipai.py
这是基于聊天室代码。当树莓派接受到paizhao的消息时。树莓派打开摄像头使用opencv拍照得到一张照片

# 关于shumeipai2.py
新增加了远程控制树莓派小车移动的代码

# 关于duoji.py
此代码是基于聊天室的基础上发展而来，客户端B发送舵机角度。树莓派连接的舵机就会转动对应的角度。实际上也就是增加了舵机的转动函数以及初始化函数。
在服务端，我们取消了昵称的要求，这是为了方便将文字转化为数字。在客户端B代码没变。

# 关于Flask_duoji文件夹
![image](https://github.com/nuaajc-lab107/chat_room/blob/main/%E6%97%A0%E6%A0%87%E9%A2%98.png)
